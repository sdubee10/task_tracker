# TaskFlow ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

## ğŸ“Š ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    TaskFlow ERD                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  departments â”‚       â”‚    teams     â”‚       â”‚      users       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id        â”‚â”€â”€â”€â”   â”‚ PK id        â”‚â”€â”€â”€â”   â”‚ PK id            â”‚
â”‚    name      â”‚   â”‚   â”‚ FK dept_id   â”‚â”€â”€â”˜â”‚   â”‚ FK team_id       â”‚â”€â”€â”
â”‚    code      â”‚   â””â”€â”€>â”‚    name      â”‚   â””â”€â”€>â”‚    email         â”‚  â”‚
â”‚    created_atâ”‚       â”‚    created_atâ”‚       â”‚    password_hash â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    name          â”‚  â”‚
                                              â”‚    role          â”‚  â”‚
                                              â”‚    position      â”‚  â”‚
                                              â”‚    phone         â”‚  â”‚
                                              â”‚    avatar_url    â”‚  â”‚
                                              â”‚    is_active     â”‚  â”‚
                                              â”‚    created_at    â”‚  â”‚
                                              â”‚    updated_at    â”‚  â”‚
                                              â”‚    last_login_at â”‚  â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                       â”‚            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                    â”‚                                               â”‚
                    â–¼                                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   form_templates     â”‚     â”‚      requests        â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚ PK id                â”‚     â”‚ PK id                â”‚              â”‚
â”‚ FK created_by        â”‚â”€â”€â”  â”‚ FK template_id       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    name              â”‚  â”‚  â”‚ FK requester_id      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    description       â”‚  â”‚  â”‚ FK target_team_id    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    category          â”‚  â”‚  â”‚    title             â”‚              â”‚
â”‚    components (JSON) â”‚  â”‚  â”‚    description       â”‚              â”‚
â”‚    is_sample         â”‚  â”‚  â”‚    form_data (JSON)  â”‚              â”‚
â”‚    is_active         â”‚  â”‚  â”‚    status            â”‚              â”‚
â”‚    created_at        â”‚  â”‚  â”‚    priority          â”‚              â”‚
â”‚    updated_at        â”‚  â”‚  â”‚    due_date          â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚    created_at        â”‚              â”‚
                          â”‚  â”‚    updated_at        â”‚              â”‚
                          â”‚  â”‚    submitted_at      â”‚              â”‚
                          â”‚  â”‚    completed_at      â”‚              â”‚
                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                          â”‚            â”‚                           â”‚
                          â”‚            â”‚                           â”‚
                          â”‚            â–¼                           â”‚
                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                          â”‚  â”‚  request_assignees   â”‚              â”‚
                          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
                          â”‚  â”‚ PK id                â”‚              â”‚
                          â”‚  â”‚ FK request_id        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚ FK user_id           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚    role              â”‚              â”‚
                          â”‚  â”‚    status            â”‚              â”‚
                          â”‚  â”‚    assigned_at       â”‚              â”‚
                          â”‚  â”‚    started_at        â”‚              â”‚
                          â”‚  â”‚    completed_at      â”‚              â”‚
                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                          â”‚            â”‚                           â”‚
                          â”‚            â–¼                           â”‚
                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                          â”‚  â”‚ request_evaluations  â”‚              â”‚
                          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
                          â”‚  â”‚ PK id                â”‚              â”‚
                          â”‚  â”‚ FK request_id        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚ FK assignee_id       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚ FK evaluator_id      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚  â”‚    technical_score   â”‚
                          â”‚  â”‚    communication_scoreâ”‚
                          â”‚  â”‚    efficiency_score  â”‚
                          â”‚  â”‚    quality_score     â”‚
                          â”‚  â”‚    overall_score     â”‚
                          â”‚  â”‚    comment           â”‚
                          â”‚  â”‚    created_at        â”‚
                          â”‚  â”‚    updated_at        â”‚
                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  â”‚  request_comments    â”‚
                          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚ PK id                â”‚
                          â”‚  â”‚ FK request_id        â”‚
                          â”‚  â”‚ FK user_id           â”‚
                          â”‚  â”‚ FK parent_id         â”‚ (self-reference)
                          â”‚  â”‚    content           â”‚
                          â”‚  â”‚    created_at        â”‚
                          â”‚  â”‚    updated_at        â”‚
                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  â”‚  request_history     â”‚
                          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚  â”‚ PK id                â”‚
                          â”‚  â”‚ FK request_id        â”‚
                          â”‚  â”‚ FK user_id           â”‚
                          â”‚  â”‚    action            â”‚
                          â”‚  â”‚    old_value (JSON)  â”‚
                          â”‚  â”‚    new_value (JSON)  â”‚
                          â”‚  â”‚    created_at        â”‚
                          â””â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       tasks          â”‚     â”‚   task_time_logs     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id                â”‚     â”‚ PK id                â”‚
â”‚ FK user_id           â”‚     â”‚ FK task_id           â”‚
â”‚ FK request_id        â”‚     â”‚ FK user_id           â”‚
â”‚    title             â”‚     â”‚    start_time        â”‚
â”‚    description       â”‚     â”‚    end_time          â”‚
â”‚    category          â”‚     â”‚    duration_minutes  â”‚
â”‚    priority          â”‚     â”‚    note              â”‚
â”‚    status            â”‚     â”‚    created_at        â”‚
â”‚    estimated_minutes â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    actual_minutes    â”‚
â”‚    due_date          â”‚
â”‚    created_at        â”‚
â”‚    updated_at        â”‚
â”‚    completed_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   notifications      â”‚     â”‚    login_history     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id                â”‚     â”‚ PK id                â”‚
â”‚ FK user_id           â”‚     â”‚ FK user_id           â”‚
â”‚    type              â”‚     â”‚    ip_address        â”‚
â”‚    title             â”‚     â”‚    user_agent        â”‚
â”‚    message           â”‚     â”‚    login_at          â”‚
â”‚    link              â”‚     â”‚    logout_at         â”‚
â”‚    is_read           â”‚     â”‚    is_success        â”‚
â”‚    created_at        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ í…Œì´ë¸” ì„¤ëª…

### 1. ì¡°ì§ ê´€ë ¨ í…Œì´ë¸”
- **departments**: ë¶€ì„œ ì •ë³´
- **teams**: íŒ€ ì •ë³´ (ë¶€ì„œì— ì†Œì†)
- **users**: ì‚¬ìš©ì ì •ë³´

### 2. ì‹ ì²­ì„œ ê´€ë ¨ í…Œì´ë¸”
- **form_templates**: ì‹ ì²­ì„œ ì–‘ì‹ í…œí”Œë¦¿
- **requests**: ì œì¶œëœ ì‹ ì²­ì„œ
- **request_assignees**: ì‹ ì²­ì„œ ë‹´ë‹¹ì ë°°ì •
- **request_evaluations**: ì‹ ì²­ì„œ ì²˜ë¦¬ í‰ê°€
- **request_comments**: ì‹ ì²­ì„œ ëŒ“ê¸€/í”¼ë“œë°±
- **request_history**: ì‹ ì²­ì„œ ë³€ê²½ ì´ë ¥

### 3. ì—…ë¬´ ê´€ë ¨ í…Œì´ë¸”
- **tasks**: ì—…ë¬´ ëª©ë¡
- **task_time_logs**: ì—…ë¬´ ì‹œê°„ ê¸°ë¡

### 4. ì‹œìŠ¤í…œ í…Œì´ë¸”
- **notifications**: ì•Œë¦¼
- **login_history**: ë¡œê·¸ì¸ ê¸°ë¡

## ğŸ”‘ ì£¼ìš” ê´€ê³„

1. **ë¶€ì„œ â†’ íŒ€ â†’ ì‚¬ìš©ì** (1:N:N)
2. **ì‚¬ìš©ì â†’ ì‹ ì²­ì„œ** (1:N) - ìš”ì²­ì
3. **ì‹ ì²­ì„œ â†’ ë‹´ë‹¹ì** (N:M) - request_assignees ì¤‘ê°„ í…Œì´ë¸”
4. **ì‹ ì²­ì„œ â†’ í‰ê°€** (1:N)
5. **ì‚¬ìš©ì â†’ ì—…ë¬´** (1:N)
6. **ì‹ ì²­ì„œ â†’ ì—…ë¬´** (1:N) - ì‹ ì²­ì„œì—ì„œ íŒŒìƒëœ ì—…ë¬´

## ğŸ“Œ ìƒíƒœê°’ ì •ì˜

### Request Status
- `draft`: ì„ì‹œì €ì¥
- `submitted`: ì œì¶œë¨
- `pending`: ê²€í†  ëŒ€ê¸°
- `in_progress`: ì§„í–‰ì¤‘
- `review`: ê²€í† ì¤‘
- `completed`: ì™„ë£Œ
- `rejected`: ë°˜ë ¤
- `cancelled`: ì·¨ì†Œ

### Task Status
- `todo`: í•  ì¼
- `in_progress`: ì§„í–‰ì¤‘
- `completed`: ì™„ë£Œ
- `on_hold`: ë³´ë¥˜

### User Role
- `admin`: ì‹œìŠ¤í…œ ê´€ë¦¬ì
- `manager`: íŒ€ ë§¤ë‹ˆì €
- `user`: ì¼ë°˜ ì‚¬ìš©ì


